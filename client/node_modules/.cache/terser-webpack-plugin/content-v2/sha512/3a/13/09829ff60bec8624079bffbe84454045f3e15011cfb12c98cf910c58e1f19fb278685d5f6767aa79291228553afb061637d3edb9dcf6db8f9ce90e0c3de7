{"map":{"version":3,"sources":["static/js/main.0dea04df.chunk.js"],"names":["this","push","110","module","exports","134","136","160","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","v1","materialize","materialize_default","routes_CreateRoom","props","history","Object","localStorage","getItem","a","toast","html","classes","createElement","Fragment","className","onClick","id","concat","removeItem","regenerator","regenerator_default","asyncToGenerator","toConsumableArray","slicedToArray","lib","lib_default","simple_peer","simple_peer_default","routes_Video","ref","peer","on","stream","current","srcObject","playsInline","autoPlay","routes_Room","_useState","_useState2","peers","setPeers","socketRef","userVideo","webcamStream","messageRef","peersRef","screenCaptureStream","roomId","match","params","_useState3","_useState4","isVideoMuted","setIsVideoMuted","_useState5","_useState6","isAudioMuted","setIsAudioMuted","_useState7","_useState8","messages","setMessages","connectToSocketAndWebcamStream","then","emit","users","forEach","otherUserSocketId","userIdToSendSignal","callerId","initiator","trickle","config","iceServers","urls","username","credential","signal","createPeer","peerId","payload","addPeer","peerObj","find","p","destroy","filter","_ref","mark","_callee","wrap","_context","prev","next","connect","query","token","getWebcamStream","sent","getAudioTracks","enabled","stop","apply","arguments","_ref2","_callee2","_context2","navigator","mediaDevices","getUserMedia","video","audio","abrupt","incomingSignal","shareScreen","_ref3","_callee3","screenCaptureVideoStreamTrack","previousWebcamStream","_context3","getDisplayMedia","cursor","getVideoTracks","map","replaceTrack","streams","getTracks","track","kind","addEventListener","startWebCamVideo","_ref4","_callee4","previousScreenCaptureStream","newWebcamStream","videoStreamTrack","audioStreamTrack","_context4","sendMessage","e","preventDefault","message","value","muted","controls","key","index","name","onSubmit","type","placeholder","axios","axios_default","routes_LoginPage","emailRef","createRef","passwordRef","htmlFor","email","password","post","response","data","setItem","catch","err","_err$response","_err$response$data","console","log","toString","routes_RegisterPage","nameRef","usernameRef","src_App","path","exact","component","render","StrictMode","document","getElementById","74","79"],"mappings":"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"},"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{110:function(e,a){},134:function(e,a){},136:function(e,a){},160:function(e,a,t){\"use strict\";t.r(a);var n=t(0),r=t.n(n),c=t(71),s=t.n(c),o=(t(79),t(18)),l=t(1),i=t(162),u=t(6),m=t.n(u),d=function(e){var a=Object(l.f)();Object(n.useEffect)((function(){localStorage.getItem(\"Token\")||(m.a.toast({html:\"Login first\",classes:\"red\"}),a.push(\"/login\"))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",{className:\"card\"},r.a.createElement(\"button\",{onClick:function(){var a=Object(i.a)();e.history.push(\"/room/\".concat(a))}},\"Create room\"),r.a.createElement(\"button\",{onClick:function(){localStorage.removeItem(\"Token\"),a.push(\"/login\")}},\"Logout\")))},p=t(10),f=t.n(p),g=t(21),v=t(38),E=t(22),h=t(73),b=t.n(h),_=t(37),k=t.n(_),N=function(e){var a=Object(n.useRef)();return Object(n.useEffect)((function(){e.peer.peer.on(\"stream\",(function(e){a.current.srcObject=e}))}),[]),r.a.createElement(\"video\",{playsInline:!0,autoPlay:!0,ref:a})},j=function(e){var a=Object(n.useState)([]),t=Object(E.a)(a,2),c=t[0],s=t[1],o=Object(n.useRef)(),i=Object(n.useRef)(),u=Object(n.useRef)(),m=Object(n.createRef)(),d=Object(n.useRef)([]),p=Object(n.useRef)(),h=e.match.params.roomId,_=Object(n.useState)(!1),j=Object(E.a)(_,2),O=j[0],w=j[1],y=Object(n.useState)(!1),I=Object(E.a)(y,2),T=I[0],S=I[1],R=Object(n.useState)([]),x=Object(E.a)(R,2),C=x[0],F=x[1],L=Object(l.f)();Object(n.useEffect)((function(){V().then((function(){o.current.emit(\"joinRoom\",h),o.current.on(\"usersInRoom\",(function(e){var a=[];e.forEach((function(e){var t=function(e,a,t){var n=new k.a({initiator:!0,trickle:!1,config:{iceServers:[{urls:\"stun:numb.viagenie.ca\",username:\"sultan1640@gmail.com\",credential:\"98376683\"},{urls:\"turn:numb.viagenie.ca\",username:\"sultan1640@gmail.com\",credential:\"98376683\"}]},stream:t});return n.on(\"signal\",(function(t){o.current.emit(\"sendingSignal\",{userIdToSendSignal:e,callerId:a,signal:t})})),n}(e,o.current.id,u.current);d.current.push({peerId:e,peer:t}),a.push({peerId:e,peer:t})})),s(a)})),o.current.on(\"userJoined\",(function(e){var a;a=p.current?P(e.signal,e.callerId,p.current):P(e.signal,e.callerId,u.current),d.current.push({peerId:e.callerId,peer:a});var t={peer:a,peerId:e.callerId};s((function(e){return[].concat(Object(v.a)(e),[t])}))})),o.current.on(\"takingReturnedSignal\",(function(e){d.current.find((function(a){return a.peerId===e.id})).peer.signal(e.signal)})),o.current.on(\"receiveMessage\",(function(e){F((function(a){return[].concat(Object(v.a)(a),[e])}))})),o.current.on(\"userLeft\",(function(e){var a=d.current.find((function(a){return a.peerId===e}));a&&a.peer.destroy();var t=d.current.filter((function(a){return a.peerId!==e}));d.current=t,s(t)}))}))}),[]),Object(n.useEffect)((function(){}),[]);var V=function(){var e=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.current=b.a.connect(\"htttp://localhost:8000\",{query:{token:localStorage.getItem(\"Token\")}}),e.next=3,M();case 3:u.current=e.sent,i.current.srcObject=u.current,u.current.getAudioTracks()[0].enabled||(u.current.getAudioTracks()[0].enabled=!0);case 6:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({video:!0,audio:!0});case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function P(e,a,t){var n=new k.a({initiator:!1,trickle:!1,stream:t});return n.on(\"signal\",(function(e){o.current.emit(\"returningSignal\",{signal:e,callerId:a})})),n.signal(e),n}var A=function(){var e=Object(g.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getDisplayMedia({cursor:!0});case 2:p.current=e.sent,a=p.current.getVideoTracks()[0],c.map((function(e){return e.peer.replaceTrack(e.peer.streams[0].getVideoTracks()[0],a,e.peer.streams[0])})),t=i.current.srcObject,t.getTracks().forEach((function(e){\"video\"===e.kind&&e.stop()})),i.current.srcObject=p.current,p.current.getVideoTracks()[0].addEventListener(\"ended\",(function(){D(),S(!1),w(!1)}));case 10:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(g.a)(f.a.mark((function e(){var a,t,n,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.current,a.getTracks().forEach((function(e){e.stop()})),t=p.current,t.getTracks().forEach((function(e){e.stop()})),e.next=8,M();case 8:n=e.sent,r=n.getVideoTracks()[0],s=n.getAudioTracks()[0],c.map((function(e){e.peer.replaceTrack(e.peer.streams[0].getVideoTracks()[0],r,e.peer.streams[0]),e.peer.replaceTrack(e.peer.streams[0].getAudioTracks()[0],s,e.peer.streams[0])})),i.current.srcObject=n,u.current=n,p.current=null;case 15:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(e){e.preventDefault(),o.current&&(o.current.emit(\"sendMessage\",{roomId:h,message:m.current.value}),m.current.value=\"\")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",{className:\"room row\"},r.a.createElement(\"div\",{className:\"col s10 p0\"},r.a.createElement(\"div\",{className:\"main__videos\"},r.a.createElement(\"div\",{id:\"video-grid\"},r.a.createElement(\"video\",{muted:!0,ref:i,autoPlay:!0,playsInline:!0}),c.map((function(e){return r.a.createElement(N,{controls:!0,key:e.peerId,peer:e})})))),r.a.createElement(\"div\",{className:\"main__controls\"},r.a.createElement(\"div\",{className:\"main__controls__block\"},r.a.createElement(\"div\",{onClick:function(){T?(u.current.getAudioTracks()[0].enabled=!0,S(!1)):(u.current.getAudioTracks()[0].enabled=!1,S(!0))},className:\"main__controls__button main__mute__button\"},T?r.a.createElement(\"i\",{className:\"unmute fas fa-microphone-slash\"}):r.a.createElement(\"i\",{className:\"fas fa-microphone\"}),T?r.a.createElement(\"span\",null,\"Unmute\"):r.a.createElement(\"span\",null,\"Mute\")),r.a.createElement(\"div\",{onClick:function(){O?(i.current.srcObject.getVideoTracks()[0].enabled=!0,w(!1)):(i.current.srcObject.getVideoTracks()[0].enabled=!1,w(!0))},className:\"main__controls__button main__video-grid_button\"},O?r.a.createElement(\"i\",{className:\"stop fas fa-video-slash\"}):r.a.createElement(\"i\",{className:\"fas fa-video\"}),O?r.a.createElement(\"span\",null,\"Play Video\"):r.a.createElement(\"span\",null,\"Stop Video\"))),r.a.createElement(\"div\",{onClick:A,className:\"main__controls__block\"},r.a.createElement(\"div\",{className:\"main__controls__button\"},r.a.createElement(\"i\",{className:\"fas fa-shield-alt\"}),r.a.createElement(\"span\",null,\"Share Screen\"))),r.a.createElement(\"div\",{onClick:function(){L.push(\"/\")},className:\"main__controls__block\"},r.a.createElement(\"div\",{className:\"main__controls__button\"},r.a.createElement(\"span\",{className:\"leave_meeting\"},\"Leave Meeting\"))))),r.a.createElement(\"div\",{className:\"col s2 p0 main__right\"},r.a.createElement(\"div\",{className:\"main__header\"},r.a.createElement(\"h6\",null,\"Chat\")),r.a.createElement(\"div\",{className:\"main__chat__window\"},r.a.createElement(\"ul\",{className:\"messages\"},C.map((function(e,a){return r.a.createElement(\"p\",{key:a},e.name,\"(\",e.username,\"):\",e.message)})))),r.a.createElement(\"form\",{onSubmit:G,className:\"main__message__container\"},r.a.createElement(\"input\",{ref:m,id:\"chat_message\",type:\"text\",placeholder:\"Type message here...\"}),r.a.createElement(\"i\",{onClick:G,className:\"fa fa-paper-plane\"})))))},O=t(28),w=t.n(O),y=function(e){var a=r.a.createRef(),t=r.a.createRef();return r.a.createElement(\"div\",{className:\"card\"},r.a.createElement(\"div\",{className:\"cardHeader\"},\"Login\"),r.a.createElement(\"div\",{className:\"cardBody\"},r.a.createElement(\"div\",{className:\"inputGroup\"},r.a.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),r.a.createElement(\"input\",{type:\"email\",name:\"email\",id:\"email\",placeholder:\"abc@example.com\",ref:a})),r.a.createElement(\"div\",{className:\"inputGroup\"},r.a.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),r.a.createElement(\"input\",{type:\"password\",name:\"password\",id:\"password\",placeholder:\"Your Password\",ref:t})),r.a.createElement(\"button\",{onClick:function(){var n=a.current.value,r=t.current.value;w.a.post(\"htttp://localhost:8000/user/login\",{email:n,password:r}).then((function(a){m.a.toast({html:\"Token:\"+a.data,classes:\"red\"}),localStorage.setItem(\"Token\",a.data),m.a.toast({html:\"Login Successful\",classes:\"green\"}),e.history.push(\"/\")})).catch((function(e){var a,t;console.log(e),e&&e.response&&m.a.toast({html:\"Error:\"+e.toString(),classes:\"red\"}),e&&e.response&&e.response.data&&m.a.toast({html:\"Error:\"+e.response.data.message.toString()+\"88\\n\",classes:\"red\"}),m.a.toast({html:\"11Error:\"+e.toString(),classes:\"red\"}),e.response&&e.response.data&&console.log(e.response.data.message),m.a.toast({html:null===e||void 0===e||null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message,classes:\"red\"})}))}},\"Login\")))},I=function(e){var a=r.a.createRef(),t=r.a.createRef(),n=r.a.createRef(),c=r.a.createRef(),s=Object(l.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",{className:\"card\"},r.a.createElement(\"div\",{className:\"cardHeader\"},\"Register\"),r.a.createElement(\"div\",{className:\"cardBody\"},r.a.createElement(\"div\",{className:\"inputGroup\"},r.a.createElement(\"label\",{htmlFor:\"name\"},\"Name\"),r.a.createElement(\"input\",{type:\"text\",name:\"name\",id:\"name\",placeholder:\"John Doe\",ref:a})),r.a.createElement(\"div\",{className:\"inputGroup\"},r.a.createElement(\"label\",{htmlFor:\"username\"},\"UserName\"),r.a.createElement(\"input\",{type:\"text\",name:\"username\",id:\"username\",placeholder:\"John Doe\",ref:t})),r.a.createElement(\"div\",{className:\"inputGroup\"},r.a.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),r.a.createElement(\"input\",{type:\"email\",name:\"email\",id:\"email\",placeholder:\"abc@example.com\",ref:n}))),r.a.createElement(\"div\",{className:\"inputGroup\"},r.a.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),r.a.createElement(\"input\",{type:\"password\",name:\"password\",id:\"password\",placeholder:\"Your Password\",ref:c})),r.a.createElement(\"button\",{onClick:function(e){var r=a.current.value,o=t.current.value,l=n.current.value,i=c.current.value;w.a.post(\"htttp://localhost:8000/user/register\",{name:r,username:o,email:l,password:i}).then((function(e){m.a.toast({html:\"User created, Login first!\",classes:\"green\"}),s.push(\"/login\")})).catch((function(e){console.log(e),e.response&&e.response.data&&console.log(e.response.data.message),m.a.toast({html:e.response.data.message,classes:\"red\"})}))}},\"Register\")))};var T=function(){return r.a.createElement(o.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:\"/\",exact:!0,component:d}),r.a.createElement(l.a,{path:\"/login\",exact:!0,component:y}),r.a.createElement(l.a,{path:\"/register\",exact:!0,component:I}),r.a.createElement(l.a,{path:\"/room/:roomId\",component:j})))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById(\"root\"))},74:function(e,a,t){e.exports=t(160)},79:function(e,a,t){}},[[74,1,2]]]);","extractedComments":[]}